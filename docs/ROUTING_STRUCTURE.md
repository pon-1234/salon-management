# ルーティング構造ドキュメント

このドキュメントは、Salon Managementアプリケーションのルーティング構造と、各ページの目的を説明します。

## キャストページの構造

### 管理画面（Admin）

管理者・スタッフ向けのキャスト管理機能：

- `/admin/cast/list` - キャスト一覧表示
- `/admin/cast/manage/[id]` - キャスト詳細管理（編集・売上管理・勤怠管理など）
- `/admin/cast/manage/new` - 新規キャスト登録
- `/admin/cast/weekly-schedule` - 週間スケジュール管理
- `/admin/cast/[id]` - **廃止** → `/admin/cast/manage/[id]`へリダイレクト

### 公開ページ（Public）

顧客向けのキャスト情報表示：

#### 汎用サロン（美容・エステ系）

- `/cast` - キャスト一覧（美容師・エステティシャンなど）
- `/cast/[id]` - キャスト詳細（未実装）
- `/booking?cast=[id]` - 予約ページ（キャスト指定）

#### 店舗別ページ（風俗系）

- `/[store]/cast` - 店舗別キャスト一覧
- `/[store]/cast/[id]` - 店舗別キャスト詳細

### ビジネスドメインの分離

このアプリケーションは2つの異なるビジネスモデルをサポートしています：

1. **美容・エステサロン** - `/cast`ルート
   - プロフェッショナルなスキルと経験を重視
   - 評価、専門分野、経験年数などを表示

2. **アダルトエンターテインメント** - `/[store]/cast`ルート
   - 店舗別の管理（池袋店、新宿店、渋谷店など）
   - 身体的特徴、ランキング、空き状況などを表示

この分離は意図的なもので、異なる顧客層とコンテンツ要件に対応しています。

## その他の主要ルート

### 管理画面

- `/admin` - ダッシュボード
- `/admin/reservation` - 予約管理
- `/admin/customers` - 顧客管理
- `/admin/analytics/*` - 各種分析・レポート
- `/admin/settings` - 設定

### 公開ページ

- `/` - トップページ
- `/[store]` - 店舗別トップページ
- `/[store]/booking` - 店舗別予約
- `/[store]/schedule` - 店舗別スケジュール
- `/mypage` - マイページ（ログイン必須）

## リダイレクトとレガシーサポート

- `/admin/cast/[id]` → `/admin/cast/manage/[id]` - 旧URLからのリダイレクト

## API / Webhook

- `POST /api/line/webhook` - LINE公式アカウントのWebhook受信。`reg <キャストID>` コマンドでキャストのLINEユーザーIDを自動登録し、Followイベントでは案内メッセージを返す。

## 今後の検討事項

1. `/cast/[id]`の実装または削除の判断
2. 公開ページのSEO対策
3. 多言語対応時のルーティング構造
